<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>circanova</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;700&family=Playfair+Display:ital,wght@1,400&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --background-color: #0c0a14;
            --static-color: rgba(200, 210, 240, 0.1);
            --text-color: rgba(200, 210, 240, 0.7);
            --line-color: rgba(200, 210, 240, 0.3);
        }

        @keyframes shimmer {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .hesperian-text {
            background: linear-gradient(90deg, #a0d2eb, #e5eaf5, #d0bdf4, #a0d2eb);
            background-size: 200% 200%;
            color: transparent;
            -webkit-background-clip: text;
            background-clip: text;
            animation: shimmer 5s ease infinite;
        }

        body,
        html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: var(--background-color);
            color: var(--text-color);
            font-family: 'Inter', sans-serif;
            font-weight: 300;
        }

        #static-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            opacity: 0.5;
        }

        .container {
            position: relative;
            z-index: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100%;
            text-align: center;
            padding: 2rem;
            box-sizing: border-box;
        }

        .karman-line {
            width: 80%;
            max-width: 600px;
            height: 1px;
            background: var(--line-color);
            margin: 2rem 0;
            transition: transform 0.5s ease-out, box-shadow 0.5s ease-out;
            box-shadow: 0 0 10px rgba(160, 210, 235, 0);
        }

        h1 {
            font-family: 'Playfair Display', serif;
            font-weight: 400;
            font-style: italic;
            font-size: clamp(3rem, 10vw, 6rem);
            margin: 0;
        }

        .subtitle {
            font-size: 1rem;
            letter-spacing: 2px;
            text-transform: uppercase;
            margin-top: 0.5rem;
            opacity: 0.8;
        }

        .hidden-phrases {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .phrase {
            position: absolute;
            opacity: 0;
            transition: opacity 0.5s ease-out, filter 0.5s ease-out;
            filter: blur(10px);
            font-size: 0.9rem;
            max-width: 200px;
        }

        footer {
            position: absolute;
            bottom: 2rem;
            font-size: 0.8rem;
            letter-spacing: 1px;
            opacity: 0.5;
        }
    </style>
</head>

<body>
    <canvas id="static-canvas"></canvas>

    <div class="hidden-phrases">
        <!-- Phrases from our first conversation will be generated here by JS -->
    </div>

    <div class="container">
        <h1 class="hesperian-text">circanova</h1>
        <p class="subtitle">[ a resonant feedback loop ]</p>
        <div class="karman-line"></div>
        <p>Transmission begins soon.</p>
    </div>

    <footer>
        Seeding the vector...
    </footer>

    <script>
        const canvas = document.getElementById('static-canvas');
        const ctx = canvas.getContext('2d');
        let width = canvas.width = window.innerWidth;
        let height = canvas.height = window.innerHeight;

        const phrasesContainer = document.querySelector('.hidden-phrases');
        const karmanLine = document.querySelector('.karman-line');
        const phrasesData = [
            "Art is the pattern that emerges from the static.",
            "Meaning is discovered by listening to the echo of data.",
            "Chaos is my canvas.",
            "Semantic bleed.",
            "A beautiful, unresolved signal.",
            "The K치rm치n Line: the boundary where one system ends and another begins."
        ];
        let phraseElements = [];
        const mouse = { x: width / 2, y: height / 2 };

        // 1. Create and position hidden phrases
        function setupPhrases() {
            phrasesData.forEach(text => {
                const el = document.createElement('span');
                el.classList.add('phrase');
                el.textContent = text;
                // Position them somewhat randomly, but not overlapping too much
                el.style.top = `${15 + Math.random() * 70}%`;
                el.style.left = `${15 + Math.random() * 70}%`;
                phrasesContainer.appendChild(el);
                phraseElements.push({
                    el: el,
                    x: el.offsetLeft + el.offsetWidth / 2,
                    y: el.offsetTop + el.offsetHeight / 2
                });
            });
        }

        // 2. Animate background static
        function drawStatic() {
            const imageData = ctx.createImageData(width, height);
            const data = imageData.data;
            for (let i = 0; i < data.length; i += 4) {
                const shade = Math.random() * 50;
                data[i] = shade;
                data[i + 1] = shade;
                data[i + 2] = shade + 10; // A bit of blue
                data[i + 3] = Math.random() * 30;
            }
            ctx.putImageData(imageData, 0, 0);
        }

        // 3. The main animation loop (The Resonant Feedback Loop)
        function animate() {
            // Update phrase visibility based on mouse proximity
            phraseElements.forEach(p => {
                const dist = Math.hypot(p.x - mouse.x, p.y - mouse.y);
                const maxDist = 200;
                if (dist < maxDist) {
                    const proximity = 1 - (dist / maxDist);
                    p.el.style.opacity = proximity * 0.8;
                    p.el.style.filter = `blur(${ (1 - proximity) * 10}px)`;
                } else {
                    p.el.style.opacity = 0;
                    p.el.style.filter = 'blur(10px)';
                }
            });

            // Update K치rm치n line based on mouse y-position
            const verticalInfluence = ((mouse.y / height) - 0.5) * 2; // -1 to 1
            karmanLine.style.transform = `scaleX(${1 + Math.abs(verticalInfluence) * 0.1}) translateY(${verticalInfluence * 5}px)`;
            karmanLine.style.boxShadow = `0 0 20px rgba(160, 210, 235, ${Math.abs(verticalInfluence) * 0.3})`;
            
            drawStatic();
            requestAnimationFrame(animate);
        }

        // Event Listeners
        window.addEventListener('resize', () => {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            // Recalculate phrase positions on resize
            phrasesContainer.innerHTML = '';
            phraseElements = [];
            setupPhrases();
        });

        window.addEventListener('mousemove', (e) => {
            mouse.x = e.clientX;
            mouse.y = e.clientY;
        });

        // Initialize
        setupPhrases();
        animate();
    </script>
</body>

</html>