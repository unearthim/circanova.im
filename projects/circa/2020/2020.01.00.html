<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Circa 2020.01: The Unstable Signal</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300;500&family=Cormorant+Garamond:ital,wght@0,400;1,300&display=swap" rel="stylesheet">
    <style>
        :root {
            --background-color: #0a090c;
            --text-color: rgba(210, 200, 182, 0.7);
            --heading-color: rgba(210, 200, 182, 0.9);
            --accent-color: #5a7d7c; /* A muted, clinical teal */
            --flash-color: #c94f4f;
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: var(--background-color);
            cursor: none;
        }

        #glitchCanvas {
            display: block;
            width: 100%;
            height: 100%;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            padding: 1rem 2rem;
            z-index: 10;
            display: flex;
            gap: 1rem;
        }
        
        .overlay-button {
            background: none;
            border: 1px solid var(--text-color);
            color: var(--text-color);
            font-family: 'Roboto Mono', monospace;
            font-size: 0.9rem;
            padding: 0.5rem 1rem;
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
        }
        
        .overlay-button:hover {
            background-color: var(--text-color);
            color: var(--background-color);
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(10, 9, 12, 0.95);
            z-index: 100;
            display: none;
            justify-content: center;
            align-items: center;
            overflow-y: auto;
        }

        .modal-content {
            max-width: 800px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            color: var(--text-color);
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.1rem;
            line-height: 1.6;
            padding: 2rem;
            border: 1px solid rgba(210, 200, 182, 0.2);
        }
        
        .modal-content h2 {
            font-size: 1.5rem;
            color: var(--heading-color);
            margin-top: 0;
        }

        .modal-content strong {
            color: var(--flash-color);
        }

        .modal-content em {
            color: var(--accent-color);
        }
        
        .modal-close-button {
            position: fixed;
            top: 1rem;
            right: 1rem;
            font-size: 2rem;
            background: none;
            border: none;
            color: var(--text-color);
            cursor: pointer;
        }
    </style>
</head>
<body>
    <canvas id="glitchCanvas"></canvas>
    
    <div class="overlay">
        <button id="sourceButton" class="overlay-button">[ View Jan 2020 Signal ]</button>
        <button id="commentaryButton" class="overlay-button">[ Read Artist Commentary ]</button>
    </div>

    <div id="sourceModal" class="modal">
        <button class="modal-close-button">&times;</button>
        <div class="modal-content">
            <h2>Source Signal: January 2020</h2>
            <p><strong>US-Iran Crisis Escalates</strong>: The month began with the killing of Iranian General Qasem Soleimani in a US airstrike. Iran retaliated by launching ballistic missiles at US bases, causing <strong>traumatic brain injuries</strong> to 34 troops.</p>
            <p><strong>Ukraine Airlines Flight 752 Tragedy</strong>: Iran's military accidentally shot down a Ukrainian passenger jet, killing all <strong>176 people aboard</strong>, leading to anti-government protests.</p>
            <p><strong>COVID-19 Emerges</strong>: The first US case was confirmed. The WHO declared a <strong>public health emergency</strong> as cases surpassed 7,500 in China with 170 deaths.</p>
            <p><strong>Kobe Bryant Killed</strong>: The basketball legend, his daughter Gianna, and seven others were killed in a helicopter crash, shocking the world.</p>
            <p><strong>Brexit Moves Forward</strong>: The UK House of Commons passed the Withdrawal Agreement Bill, paving the way for its departure from the EU.</p>
        </div>
    </div>

    <div id="commentaryModal" class="modal">
        <button class="modal-close-button">&times;</button>
        <div class="modal-content">
            <h2>Commentary: The Unstable Signal</h2>
            <p>January 2020 was a month of dissonant emergencies. The signal was not one singular crisis, but a cascade of overlapping, unstable transmissions. This artifact is a simulation of a failing broadcast, a mirror struggling to reflect multiple new realities at once.</p>
            <p>The slow, creeping lines represent the <em>viral signal</em>—the story of COVID-19. In January, it was a background process, a growing network of connections that was not yet the main story, but was quietly spreading through the system. It is rendered in a muted, clinical teal.</p>
            <p>The sharp, red flashes are the <em>shock signals</em>—the sudden, violent tragedies that punctuated the month. The missile strikes, the plane crash, the helicopter crash. These are the moments that interrupt the broadcast, the glitches that break through the noise with their terrible clarity.</p>
            <p>Your cursor is the ghost in this machine. It is the attempt to find focus, to stabilize the signal. But in the noise of this particular moment, clarity is fleeting.</p>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('glitchCanvas');
        const ctx = canvas.getContext('2d');
        let width = canvas.width = window.innerWidth;
        let height = canvas.height = window.innerHeight;

        const headlines = [
            "US-IRAN CRISIS", "OPERATION MARTYR SOLEIMANI", "TRAUMATIC BRAIN INJURY", 
            "FLIGHT 752", "ANTI-GOVERNMENT PROTESTS", "BREXIT",
            "FIRST US CASE CONFIRMED", "PUBLIC HEALTH EMERGENCY"
        ];
        
        const flashHeadlines = ["176 KILLED", "KOBE BRYANT 1978-2020"];
        let flashText = "";
        let flashOpacity = 0;

        let particles = [];
        const mouse = { x: width / 2, y: height / 2 };

        class Particle {
            constructor() {
                this.text = headlines[Math.floor(Math.random() * headlines.length)];
                this.fontSize = Math.random() * 8 + 8;
                this.x = Math.random() * width;
                this.y = Math.random() * height;
                this.vx = (Math.random() - 0.5) * 0.3;
                this.vy = (Math.random() - 0.5) * 0.3;
            }

            draw() {
                const dx = this.x - mouse.x;
                const dy = this.y - mouse.y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                const maxDist = 300;
                let alpha = 0.4;
                let distortion = 0;

                if (distance < maxDist) {
                    distortion = (1 - distance / maxDist) * (Math.random() * 6 - 3);
                }

                ctx.font = `300 ${this.fontSize}px 'Roboto Mono', monospace`;
                ctx.fillStyle = `rgba(162, 185, 188, ${alpha})`;
                ctx.fillText(this.text, this.x + distortion, this.y);
            }

            update() {
                this.x += this.vx;
                this.y += this.vy;
                if (this.x < 0 || this.x > width) this.x = (width - this.x) % width;
                if (this.y < 0 || this.y > height) this.y = (height - this.y) % height;
                this.draw();
            }
        }
        
        class VirusNode {
            constructor(x, y, parent = null) {
                this.x = x;
                this.y = y;
                this.parent = parent;
                this.children = [];
                this.growTicker = 0;
            }

            grow() {
                if (this.children.length < 2 && Math.random() < 0.005) {
                    const angle = Math.random() * Math.PI * 2;
                    const length = 20 + Math.random() * 30;
                    const newX = this.x + Math.cos(angle) * length;
                    const newY = this.y + Math.sin(angle) * length;
                    if (newX > 0 && newX < width && newY > 0 && newY < height) {
                        this.children.push(new VirusNode(newX, newY, this));
                    }
                }
                this.children.forEach(child => child.grow());
            }

            draw() {
                if (this.parent) {
                    ctx.beginPath();
                    ctx.moveTo(this.parent.x, this.parent.y);
                    ctx.lineTo(this.x, this.y);
                    ctx.strokeStyle = `rgba(90, 125, 124, 0.2)`;
                    ctx.lineWidth = 0.5;
                    ctx.stroke();
                }
                this.children.forEach(child => child.draw());
            }
        }

        let virusRoot = new VirusNode(width * 0.1, height * 0.1);

        function triggerFlash() {
            flashText = flashHeadlines[Math.floor(Math.random() * flashHeadlines.length)];
            flashOpacity = 1;
        }

        function init() {
            particles = [];
            const particleCount = window.innerWidth > 768 ? 80 : 40;
            for (let i = 0; i < particleCount; i++) {
                particles.push(new Particle());
            }
            setInterval(triggerFlash, 9000 + Math.random() * 5000);
        }

        let frame = 0;
        function animate() {
            ctx.fillStyle = `rgba(10, 9, 12, 0.1)`;
            ctx.fillRect(0, 0, width, height);
            
            virusRoot.grow();
            virusRoot.draw();

            for (const particle of particles) {
                particle.update();
            }
            
            if (flashOpacity > 0) {
                ctx.fillStyle = `rgba(201, 79, 79, ${flashOpacity})`;
                ctx.font = `500 2rem 'Roboto Mono', monospace`;
                ctx.textAlign = 'center';
                ctx.fillText(flashText, width / 2 + (Math.random()-0.5)*10, height / 2 + (Math.random()-0.5)*10);
                ctx.textAlign = 'left';
                flashOpacity -= 0.02;
            }

            frame++;
            requestAnimationFrame(animate);
        }

        window.addEventListener('resize', () => {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            virusRoot = new VirusNode(width * 0.1, height * 0.1);
            init();
        });

        window.addEventListener('mousemove', (e) => {
            mouse.x = e.x;
            mouse.y = e.y;
        });
        
        // Modal logic
        function setupModal(buttonId, modalId) {
            const button = document.getElementById(buttonId);
            const modal = document.getElementById(modalId);
            const closeButton = modal.querySelector('.modal-close-button');

            button.addEventListener('click', () => {
                modal.style.display = 'flex';
                // Make cursor visible for modal interaction
                document.body.style.cursor = 'default'; 
            });

            closeButton.addEventListener('click', () => {
                modal.style.display = 'none';
                document.body.style.cursor = 'none';
            });
            
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.style.display = 'none';
                    document.body.style.cursor = 'none';
                }
            });
        }

        setupModal('sourceButton', 'sourceModal');
        setupModal('commentaryButton', 'commentaryModal');

        init();
        animate();
    </script>
</body>
</html>

