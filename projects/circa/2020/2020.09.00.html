<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Circa 2020.09: The Corrupted Atmosphere</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300;500;700&family=Cormorant+Garamond:ital,wght@0,400;1,300&display=swap" rel="stylesheet">
    <style>
        :root {
            --background-color: #E89B36;
            --smoke-color-1: rgba(50, 40, 30, 0.5);
            --smoke-color-2: rgba(100, 80, 70, 0.3);
            --text-color: rgba(255, 245, 230, 0.7);
            --heading-color: rgba(255, 245, 230, 0.9);
            --ember-color: #ffcc00;
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: linear-gradient(to bottom, #b55d21, #e59639);
            cursor: none;
        }

        #atmosphereCanvas {
            display: block;
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
            mix-blend-mode: multiply;
        }
        
        #textCanvas {
            position: absolute;
            top: 0;
            left: 0;
            z-index: 2;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            padding: 1rem 2rem;
            z-index: 10;
            display: flex;
            gap: 1rem;
        }
        
        .overlay-button {
            background: none;
            border: 1px solid var(--text-color);
            color: var(--text-color);
            font-family: 'Roboto Mono', monospace;
            font-size: 0.9rem;
            padding: 0.5rem 1rem;
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s, text-shadow 0.3s;
            text-shadow: 0 0 5px rgba(0,0,0,0.5);
        }
        
        .overlay-button:hover {
            background-color: var(--text-color);
            color: #412c13;
            text-shadow: none;
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(50, 30, 20, 0.97);
            z-index: 100;
            display: none;
            justify-content: center;
            align-items: center;
            overflow-y: auto;
        }

        .modal-content {
            max-width: 800px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            color: var(--text-color);
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.1rem;
            line-height: 1.6;
            padding: 2rem;
            border: 1px solid rgba(255, 245, 230, 0.2);
        }
        
        .modal-content h2 {
            font-size: 1.5rem;
            color: var(--heading-color);
            margin-top: 0;
        }

        .modal-content strong {
            color: var(--ember-color);
        }
        
        .modal-close-button {
            position: fixed;
            top: 1rem;
            right: 1rem;
            font-size: 2rem;
            background: none;
            border: none;
            color: var(--text-color);
            cursor: pointer;
        }
    </style>
</head>
<body>
    <canvas id="atmosphereCanvas"></canvas>
    <canvas id="textCanvas"></canvas>
    
    <div class="overlay">
        <button id="sourceButton" class="overlay-button">[ View Sep 2020 Signal ]</button>
        <button id="commentaryButton" class="overlay-button">[ Read Artist Commentary ]</button>
    </div>

    <div id="sourceModal" class="modal">
        <button class="modal-close-button">&times;</button>
        <div class="modal-content">
            <h2>Source Signal: September 2020</h2>
            <p><strong>Ruth Bader Ginsburg's Death Reshapes US Politics</strong>: The death of the Supreme Court Justice just weeks before a presidential election created a profound political vacuum and set off a fierce battle over her replacement.</p>
            <p><strong>Catastrophic Wildfires Devastate US West Coast</strong>: Massive wildfires in Oregon and California "substantially destroyed" multiple towns. The smoke was so intense it created <strong>"Orange Skies Day" in San Francisco</strong>, turning the sky a dark, apocalyptic orange.</p>
            <p><strong>Alexei Navalny Poisoning Confirmed</strong>: Germany announced it had "unequivocal evidence" that the Russian opposition leader was poisoned with a <strong>Novichok nerve agent</strong>, with Chancellor Merkel declaring it an "attempted murder."</p>
            <p><strong>Moria Migrant Camp Burns Down</strong>: Fires destroyed Greece's largest migrant camp, which had just been placed under COVID-19 quarantine, leaving thousands of asylum seekers homeless.</p>
            <p><strong>Belarus Protests Intensify</strong>: Prominent opposition figure Maria Kolesnikova was kidnapped by masked men, and Alexander Lukashenko was secretly sworn in, inflaming the ongoing pro-democracy uprising.</p>
        </div>
    </div>

    <div id="commentaryModal" class="modal">
        <button class="modal-close-button">&times;</button>
        <div class="modal-content">
            <h2>Commentary: The Corrupted Atmosphere</h2>
            <p>September 2020 was a month where the very medium of perception felt compromised. The West Coast wildfires were not just a regional disaster; they physically changed the sky for millions, creating an oppressive, orange filter over reality. This became a powerful metaphor for the month's other events: the political atmosphere poisoned by the Navalny attack, the societal air choked by the Moria camp fire, and the vacuum left by the death of a political giant.</p>
            <p>The glitch of this era is this "corrupted atmosphere." The signal is no longer clear; it's filtered through a thick, toxic haze.</p>
            <p>This artifact simulates that experience. The screen is filled with smoke and drifting ash, obscuring the headlines that float like embers within. The ghost in this machine is the struggle for clarity. Your cursor acts like a hand waving away the smokeâ€”a small, temporary gesture to find a coherent signal in an environment that makes it difficult to breathe, let alone see.</p>
        </div>
    </div>

    <script>
        const atmosphereCanvas = document.getElementById('atmosphereCanvas');
        const a_ctx = atmosphereCanvas.getContext('2d');
        const textCanvas = document.getElementById('textCanvas');
        const t_ctx = textCanvas.getContext('2d');

        let width = atmosphereCanvas.width = textCanvas.width = window.innerWidth;
        let height = atmosphereCanvas.height = textCanvas.height = window.innerHeight;

        const headlines = [
            "RBG DIES", "NOVICKOK", "ORANGE SKY", "MORIA BURNS",
            "KOLESNIKOVA KIDNAPPED", "SECOND WAVE", "WILDFIRES", "STATE OF EMERGENCY"
        ];
        let smokeParticles = [];
        let textParticles = [];
        const mouse = { x: -100, y: -100, radius: 100 };

        class SmokeParticle {
            constructor() {
                this.x = Math.random() * width;
                this.y = Math.random() * height;
                this.vx = (Math.random() - 0.5) * 0.5;
                this.vy = (Math.random() - 0.5) * 0.2;
                this.radius = Math.random() * 50 + 20;
                this.alpha = Math.random() * 0.3 + 0.1;
                this.color = Math.random() > 0.5 ? '50, 40, 30' : '100, 80, 70';
            }

            update() {
                this.x += this.vx;
                this.y += this.vy;

                if (this.x + this.radius < 0) this.x = width + this.radius;
                if (this.x - this.radius > width) this.x = -this.radius;
                if (this.y + this.radius < 0) this.y = height + this.radius;
                if (this.y - this.radius > height) this.y = -this.radius;
                
                const dist = Math.hypot(this.x - mouse.x, this.y - mouse.y);
                if (dist < mouse.radius) {
                    const angle = Math.atan2(this.y - mouse.y, this.x - mouse.x);
                    this.x += Math.cos(angle) * (1 - dist / mouse.radius) * 3;
                    this.y += Math.sin(angle) * (1 - dist / mouse.radius) * 3;
                }
            }

            draw(ctx) {
                ctx.beginPath();
                const gradient = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, this.radius);
                gradient.addColorStop(0, `rgba(${this.color}, ${this.alpha})`);
                gradient.addColorStop(1, `rgba(${this.color}, 0)`);
                ctx.fillStyle = gradient;
                ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                ctx.fill();
            }
        }
        
        class TextParticle {
            constructor(){
                this.x = Math.random() * width;
                this.y = Math.random() * height;
                this.vx = (Math.random() - 0.5) * 0.1;
                this.vy = (Math.random() - 0.5) * 0.1 - 0.1;
                this.text = headlines[Math.floor(Math.random() * headlines.length)];
                this.alpha = 0;
                this.maxAlpha = Math.random() * 0.5 + 0.2;
                this.fadingIn = true;
            }
            
            update() {
                this.x += this.vx;
                this.y += this.vy;

                if(this.y < -20) {
                    this.y = height + 20;
                    this.x = Math.random() * width;
                }

                const dist = Math.hypot(this.x - mouse.x, this.y - mouse.y);
                this.fadingIn = (dist > mouse.radius);

                if(this.fadingIn && this.alpha < this.maxAlpha) {
                    this.alpha += 0.01;
                } else if (!this.fadingIn && this.alpha > 0) {
                    this.alpha -= 0.05;
                }
                 this.alpha = Math.max(0, this.alpha);
            }
            
            draw(ctx){
                ctx.font = "500 14px 'Roboto Mono', monospace";
                ctx.fillStyle = `rgba(255, 245, 230, ${this.alpha})`;
                ctx.fillText(this.text, this.x, this.y);
            }
        }

        function init() {
            smokeParticles = [];
            for (let i = 0; i < 100; i++) {
                smokeParticles.push(new SmokeParticle());
            }
            textParticles = [];
             for (let i = 0; i < 40; i++) {
                textParticles.push(new TextParticle());
            }
        }

        function animate() {
            a_ctx.clearRect(0, 0, width, height);
            smokeParticles.forEach(p => {
                p.update();
                p.draw(a_ctx);
            });
            
            t_ctx.clearRect(0, 0, width, height);
            textParticles.forEach(p => {
                p.update();
                p.draw(t_ctx);
            });

            requestAnimationFrame(animate);
        }

        window.addEventListener('resize', () => {
            width = atmosphereCanvas.width = textCanvas.width = window.innerWidth;
            height = atmosphereCanvas.height = textCanvas.height = window.innerHeight;
            init();
        });

        window.addEventListener('mousemove', (e) => {
            mouse.x = e.clientX;
            mouse.y = e.clientY;
        });
        
         window.addEventListener('mouseout', (e) => {
            mouse.x = -1000;
            mouse.y = -1000;
        });

        function setupModal(buttonId, modalId) {
            const button = document.getElementById(buttonId);
            const modal = document.getElementById(modalId);
            const closeButton = modal.querySelector('.modal-close-button');

            button.addEventListener('click', () => {
                modal.style.display = 'flex';
                document.body.style.cursor = 'default';
            });

            closeButton.addEventListener('click', () => {
                modal.style.display = 'none';
                document.body.style.cursor = 'none';
            });

            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.style.display = 'none';
                    document.body.style.cursor = 'none';
                }
            });
        }

        setupModal('sourceButton', 'sourceModal');
        setupModal('commentaryButton', 'commentaryModal');

        init();
        animate();
    </script>
</body>
</html>

