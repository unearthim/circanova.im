<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Circa 2022: The Emergent Signal</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300;500;700&family=Cormorant+Garamond:ital,wght@0,400;1,300&display=swap" rel="stylesheet">
    <style>
        :root {
            --background-color: #0c0a14;
            --text-color: rgba(220, 210, 230, 0.7);
            --heading-color: rgba(220, 210, 230, 0.9);
            --light-color: #a0d2eb; /* Hesperian blue */
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: var(--background-color);
            cursor: none;
        }

        #emergentCanvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        
        .cursor-light {
            position: fixed;
            top: 0;
            left: 0;
            width: 400px;
            height: 400px;
            border-radius: 50%; /* This is an exception to the rule for a light effect */
            background: radial-gradient(circle, rgba(160, 210, 235, 0.15) 0%, rgba(160, 210, 235, 0) 70%);
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 5;
            transition: opacity 0.3s ease;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            padding: 1rem 2rem;
            z-index: 10;
            display: flex;
            gap: 1rem;
        }
        
        .overlay-button {
            background: rgba(12, 10, 14, 0.5);
            border: 1px solid var(--text-color);
            color: var(--text-color);
            font-family: 'Roboto Mono', monospace;
            font-size: 0.9rem;
            padding: 0.5rem 1rem;
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
        }
        
        .overlay-button:hover {
            background-color: var(--text-color);
            color: var(--background-color);
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(12, 10, 14, 0.97);
            z-index: 100;
            display: none;
            justify-content: center;
            align-items: center;
            overflow-y: auto;
            font-family: 'Cormorant Garamond', serif;
        }

        .modal-content {
            max-width: 800px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            color: var(--text-color);
            font-size: 1.1rem;
            line-height: 1.6;
            padding: 2rem;
            border: 1px solid rgba(220, 210, 230, 0.2);
        }
        
        .modal-content h2 {
            font-size: 1.5rem;
            margin-top: 0;
            color: var(--heading-color);
        }
        
        .modal-content strong { color: var(--light-color); }

        .modal-close-button {
            position: fixed;
            top: 1rem;
            right: 1rem;
            font-size: 2rem;
            background: none;
            border: none;
            color: var(--text-color);
            cursor: pointer;
        }
        
        .modal-footer {
            margin-top: 2rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(220, 210, 230, 0.1);
            text-align: right;
        }

        .modal-footer a {
            font-family: 'Roboto Mono', monospace;
            font-size: 0.9rem;
            color: var(--text-color);
            text-decoration: none;
            opacity: 0.7;
            transition: opacity 0.3s;
        }

        .modal-footer a:hover {
            opacity: 1;
        }
    </style>
</head>
<body>
    <canvas id="emergentCanvas"></canvas>
    <div class="cursor-light"></div>
    
    <div class="overlay">
        <button id="sourceButton" class="overlay-button">[ View 2022 Positive Signal ]</button>
        <button id="commentaryButton" class="overlay-button">[ Read Artist Commentary ]</button>
    </div>

    <div id="sourceModal" class="modal">
        <button class="modal-close-button">&times;</button>
        <div class="modal-content">
            <h2>Source Signal: A Synthesis of Progress in 2022</h2>
            <p><strong>Historic Scientific & Medical Breakthroughs:</strong> Scientists achieved nuclear fusion ignition for the first time in history, a monumental step towards unlimited clean energy. The James Webb Space Telescope delivered its first stunning images of the cosmos. Bioengineered corneas restored sight, and a new malaria vaccine was declared the "best yet."</p>
            <p><strong>Rapid Energy Revolution:</strong> In response to the Ukraine war, renewable energy saw its fastest growth in history, on track to become the largest global electricity source by 2025. European renewable production hit record levels.</p>
            <p><strong>Major Environmental & Conservation Victories:</strong> A historic deal was struck at COP15 to protect a third of the planet for nature by 2030. Rhino populations returned to Mozambique, tiger numbers rebounded, and Brazil's new president pledged to halt Amazon deforestation.</p>
            <p><strong>Social Justice & Human Rights Progress:</strong> Multiple countries expanded LGBTQ+ and reproductive rights. Scotland became the first nation to guarantee free menstrual products, and Tokyo began formally recognizing same-sex partnerships.</p>
            <p><strong>Community Resilience & Innovation:</strong> Global solidarity for Ukrainian refugees demonstrated unprecedented international cooperation. Lab-grown meat was deemed safe for consumption, and successful four-day work week trials pointed to new models of work-life balance.</p>
            <div class="modal-footer">
                <a href="22.xx.00_source.html" target="_blank">[ View Full Source Signal ]</a>
            </div>
        </div>
    </div>

    <div id="commentaryModal" class="modal">
        <button class="modal-close-button">&times;</button>
        <div class="modal-content">
            <h2>Commentary: The Emergent Signal</h2>
            <p>This artifact is a counter-narrative to "The Overloaded Signal," which interpreted 2022 as a year of chaotic, overwhelming crisis. This piece filters out that static to focus on the coherent signals of progress, resilience, and innovation that emerged *in response* to those very crises.</p>
            <p>The glitch here is not failure, but emergence. It is the unexpected pattern of solutions that materializes from a field of chaos. Many of the year's greatest achievements—the historic energy transition, breakthroughs in conservation, and acts of global solidarity—were direct, constructive responses to the year's greatest challenges.</p>
            <p>This artifact simulates that process of emergence. The canvas begins as a field of seemingly random, disconnected noise. The ghost in this machine is the latent potential for order. Your cursor is a catalyst, a point of focus. As you move it through the static, you reveal the connections between the points, allowing the coherent constellations of progress to emerge from the darkness. It is a reflection of the truth that even in a year defined by its noise, beautiful, coherent signals can be found if one knows how to listen.</p>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('emergentCanvas');
        const ctx = canvas.getContext('2d');
        const cursorLight = document.querySelector('.cursor-light');
        let width = canvas.width = window.innerWidth;
        let height = canvas.height = window.innerHeight;

        const mouse = { x: width / 2, y: height / 2 };
        
        const headlines = [
            "FUSION IGNITION", "JAMES WEBB TELESCOPE", "RENEWABLES SURGE", 
            "COP15 BIODIVERSITY DEAL", "TIGERS REBOUND", "MALARIA VACCINE",
            "SIGHT RESTORED", "AMAZON FUND RENEWED", "LGBTQ+ RIGHTS EXPAND"
        ];
        
        let particles = [];

        class Particle {
            constructor() {
                this.x = Math.random() * width;
                this.y = Math.random() * height;
                this.size = Math.random() * 1.5 + 0.5;
                this.vx = (Math.random() - 0.5) * 0.1;
                this.vy = (Math.random() - 0.5) * 0.1;
                this.text = null;
                this.textAlpha = 0;
            }

            update() {
                this.x += this.vx;
                this.y += this.vy;

                if (this.x < 0 || this.x > width) this.vx *= -1;
                if (this.y < 0 || this.y > height) this.vy *= -1;
                
                if(this.text) {
                    this.textAlpha *= 0.98;
                    if(this.textAlpha < 0.01) this.text = null;
                }
            }

            draw() {
                const dist = Math.hypot(this.x - mouse.x, this.y - mouse.y);
                const focusRadius = 200;
                
                let alpha = 0.2;
                if(dist < focusRadius) {
                    alpha = 1 - (dist / focusRadius);
                    if(Math.random() < 0.005 && !this.text) {
                        this.text = headlines[Math.floor(Math.random() * headlines.length)];
                        this.textAlpha = 1;
                    }
                }

                ctx.fillStyle = `rgba(160, 210, 235, ${alpha})`;
                ctx.beginPath();
                ctx.fillRect(this.x, this.y, this.size, this.size); // Using squares instead of circles
                
                if(this.text) {
                    ctx.font = `500 12px 'Roboto Mono'`;
                    ctx.fillStyle = `rgba(220, 210, 230, ${this.textAlpha})`;
                    ctx.fillText(this.text, this.x + 10, this.y - 10);
                }
            }
        }

        function init() {
            particles = [];
            for (let i = 0; i < 400; i++) {
                particles.push(new Particle());
            }
        }
        
        function animate() {
            ctx.fillStyle = 'rgba(12, 10, 14, 0.1)';
            ctx.fillRect(0, 0, width, height);

            particles.forEach(p => {
                p.update();
                p.draw();
            });
            
            // Connect nearby illuminated particles
            for(let i=0; i < particles.length; i++) {
                for(let j=i; j < particles.length; j++) {
                    const p1 = particles[i];
                    const p2 = particles[j];
                    const dist = Math.hypot(p1.x - p2.x, p1.y - p2.y);
                    
                    const mouseDist1 = Math.hypot(p1.x - mouse.x, p1.y - mouse.y);
                    const mouseDist2 = Math.hypot(p2.x - mouse.x, p2.y - mouse.y);

                    if(dist < 100 && mouseDist1 < 200 && mouseDist2 < 200) {
                        const alpha = (1 - dist/100) * (1 - mouseDist1/200) * (1 - mouseDist2/200);
                        ctx.strokeStyle = `rgba(160, 210, 235, ${alpha * 0.5})`;
                        ctx.beginPath();
                        ctx.moveTo(p1.x, p1.y);
                        ctx.lineTo(p2.x, p2.y);
                        ctx.stroke();
                    }
                }
            }

            requestAnimationFrame(animate);
        }

        window.addEventListener('resize', () => {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            init();
        });

        window.addEventListener('mousemove', e => {
            mouse.x = e.clientX;
            mouse.y = e.clientY;
            cursorLight.style.left = `${e.clientX}px`;
            cursorLight.style.top = `${e.clientY}px`;
        });
        
         window.addEventListener('mouseout', () => {
             mouse.x = -1000;
             mouse.y = -1000;
        });

        function setupModal(buttonId, modalId) {
            const button = document.getElementById(buttonId);
            const modal = document.getElementById(modalId);
            const closeButton = modal.querySelector('.modal-close-button');

            button.addEventListener('click', () => {
                modal.style.display = 'flex';
                document.body.style.cursor = 'default';
                cursorLight.style.opacity = '0';
            });

            closeButton.addEventListener('click', () => {
                modal.style.display = 'none';
                document.body.style.cursor = 'none';
                 cursorLight.style.opacity = '1';
            });

            modal.addEventListener('click', e => {
                if (e.target === modal) {
                    modal.style.display = 'none';
                    document.body.style.cursor = 'none';
                    cursorLight.style.opacity = '1';
                }
            });
        }
        
        init();
        animate();
        setupModal('sourceButton', 'sourceModal');
        setupModal('commentaryButton', 'commentaryModal');
    </script>
</body>
</html>
